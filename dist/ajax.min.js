!function(a){var b={url:"",method:"GET",data:null,dataType:"html",xhrFields:{withCredentials:!1}},c=function(c){c=a.extend({},b,c),c.data&&(c.data=a.param(c.data));var d=new XMLHttpRequest,e=a.Deferred?a.Deferred():!1,f=function(){c.error&&c.error.apply(this,arguments),e&&e.reject.apply(e,arguments)};return"GET"===c.method&&c.data&&(c.url+=(c.url.indexOf("?")>=0?"&":"?")+c.data),d.open(c.method,c.url,!0),d.withCredentials=c.xhrFields.withCredentials,"POST"===c.method&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.onload=function(){if(d.status>=200&&d.status<400){var b=[d.getResponseHeader("content-type").indexOf("json")>-1?JSON.parse(d.response):d.response,d.status,d];"script"===c.dataType&&window.eval.call(window,a.trim(d.response)),"function"==typeof c.success&&c.success.apply(this,b),e&&e.resolve.apply(e,b)}else f.apply(this,arguments)},d.onerror=f,d.send(c.data),e},d=function(a,b,d,e){return c({url:b,method:a,data:e?d:"function"==typeof d?null:d,success:e||("function"==typeof d?d:null)})};a.extend(a,{ajax:function(a){return c(a)},get:function(a,b,c){return d("GET",a,b,c)},post:function(a,b,c){return d("POST",a,b,c)},param:function(b){var c=a.isArray(b);return a.map(b,function(a,b){return encodeURIComponent(c?a.name:b)+"="+encodeURIComponent(c?a.value:a)}).join("&")}}),a.fn.extend({serializeArray:function(){return a.map(this[this.is("form")?"find":"filter"]("input, textarea, select").nodes,function(a){return a.disabled?null:"radio"===a.type||"checkbox"===a.type?a.checked?{name:a.name,value:a.value}:null:"select"===a.type?{name:a.name,value:a.options[a.selectedIndex].value}:{name:a.name,value:a.value}})},serialize:function(){return a.param(this.serializeArray())}})}(window.simpleQuery);