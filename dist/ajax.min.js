!function(a){var b={url:"",method:"GET",contentType:"application/x-www-form-urlencoded",data:null,dataType:"html",xhrFields:{withCredentials:!1}},c=function(c){if(c=a.extend({},b,c),c.data){var d=c.contentType.indexOf("json")>-1;d||(c.data=a.param(c.data))}var e=new XMLHttpRequest,f=!!a.Deferred&&a.Deferred(),g=function(){c.error&&c.error.apply(this,arguments),f&&f.reject.apply(f,arguments)};return"GET"===c.method&&c.data&&(c.url+=(c.url.indexOf("?")>=0?"&":"?")+c.data),e.open(c.method,c.url,!0),e.withCredentials=c.xhrFields.withCredentials,"POST"===c.method&&e.setRequestHeader("Content-type",c.contentType),e.onload=function(){if(e.status>=200&&e.status<400){var b=[e.getResponseHeader("content-type").indexOf("json")>-1?JSON.parse(e.response):e.response,e.status,e];"script"===c.dataType&&window.eval.call(window,a.trim(e.response)),"function"==typeof c.success&&c.success.apply(this,b),f&&f.resolve.apply(f,b)}else g.apply(this,arguments)},e.onerror=g,e.send(c.data),f},d=function(a,b,d,e){return c({url:b,method:a,data:e?d:"function"==typeof d?null:d,success:e||("function"==typeof d?d:null)})};a.extend(a,{ajax:function(a){return c(a)},get:function(a,b,c){return d("GET",a,b,c)},post:function(a,b,c){return d("POST",a,b,c)},param:function(b){var c=a.isArray(b);return a.map(b,function(a,b){return encodeURIComponent(c?a.name:b)+"="+encodeURIComponent(c?a.value:a)}).join("&")}}),a.fn.extend({serializeArray:function(){return a.map(this[this.is("form")?"find":"filter"]("input, textarea, select").nodes,function(a){return a.disabled?null:"radio"===a.type||"checkbox"===a.type?a.checked?{name:a.name,value:a.value}:null:"select"===a.type?{name:a.name,value:a.options[a.selectedIndex].value}:{name:a.name,value:a.value}})},serialize:function(){return a.param(this.serializeArray())}})}(window.simpleQuery);